<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI æ•°æ®åº“æŸ¥è¯¢åŠ©æ‰‹ - ä¸“ä¸šç‰ˆ</title>
    <!-- å¼•å…¥å¤–éƒ¨ CSS -->
    <link rel="stylesheet" href="style.css">
    <!-- å¼•å…¥ Vue 3 è„šæœ¬ -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
    <div id="app" class="container">
        <h1>ğŸ“Š AI çŸ­æ¼«å‰§æ•°æ®åº“ NLP2SQL</h1>
        <p style="text-align: center; color: #666;">è¾“å…¥ä½ æƒ³é—®çš„é—®é¢˜ï¼Œæ¯”å¦‚ï¼šâ€œæŸ¥è¯¢å¼ ä¸‰è´Ÿè´£çš„é¡¹ç›®â€ æˆ– â€œæŸ¥çœ‹é¢„ç®—å¤§äº20ä¸‡çš„é¡¹ç›®â€</p>

        <div class="input-group">
            <input 
                v-model="userQuestion" 
                @keyup.enter="doQuery"
                placeholder="è¯·è¾“å…¥ä½ çš„æŸ¥è¯¢éœ€æ±‚..." 
                type="text"
            >
            <button @click="doQuery" :disabled="isLoading">
                {{ isLoading ? 'æŸ¥è¯¢ä¸­...' : 'æäº¤æŸ¥è¯¢' }}
            </button>
        </div>

        <div v-if="generatedSql" class="result-info">
            <strong>AI ç”Ÿæˆçš„ SQLï¼š</strong> {{ generatedSql }}
            <span v-if="isCacheHit" class="cache-badge">âš¡ Redis ç¼“å­˜å‘½ä¸­ (æé€Ÿå“åº”)</span>
        </div>

        <div v-if="errorMessage" class="error">
            {{ errorMessage }}
        </div>

        <div v-if="isLoading" class="loading">æ­£åœ¨åŠªåŠ›ä»æ•°æ®åº“æ¬è¿æ•°æ®...</div>

        <div v-if="results.length > 0" style="overflow-x: auto;">
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>æ¶æ„å¸ˆ</th>
                        <th>é¡¹ç›®åç§°</th>
                        <th>è¡Œä¸š</th>
                        <th>æŠ€æœ¯æ ˆ</th>
                        <th>é›†æ•°</th>
                        <th>é¢„ç®—</th>
                        <th>è¿›åº¦</th>
                        <th>å¼€å§‹æ—¥æœŸ</th>
                        <th>çŠ¶æ€</th>
                        <th>AIå·¥å…·</th>
                        <th>è¯„åˆ†</th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="item in results" :key="item.id">
                        <td>{{ item.id }}</td>
                        <td>{{ item.architect_name }}</td>
                        <td>{{ item.project_name }}</td>
                        <td>{{ item.client_industry }}</td>
                        <td>{{ item.tech_stack }}</td>
                        <td>{{ item.episode_count }}</td>
                        <td>{{ item.total_budget }}</td>
                        <td>{{ item.completion_rate }}%</td>
                        <td>{{ item.start_date }}</td>
                        <td>{{ item.status }}</td>
                        <td>{{ item.ai_tools_used }}</td>
                        <td>{{ item.performance_score }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div v-else-if="!isLoading && generatedSql" style="text-align: center; margin-top: 20px; color: #999;">
            æ²¡æœ‰æŸ¥åˆ°ç›¸å…³æ•°æ®ã€‚
        </div>
    </div>

    <!-- å¼•å…¥å¤–éƒ¨ Vue é€»è¾‘è„šæœ¬ -->
    <script src="app.js"></script>
</body>
</html>
